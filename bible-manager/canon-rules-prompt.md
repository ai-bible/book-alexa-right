# Правила работы с каноном мира

**Основной источник**: Агент `canon-guardian` (`.claude/agents/shared/canon-guardian.md`)

Агент содержит полную логику работы с каноном:
- Иерархию уровней 0-4
- Правила проверки и классификации
- Процедуры для разных workflow (Planning, Generation, Validation, Integration)
- Форматы выходных документов
- 6 детальных правил работы с каноном

## Краткая справка

### Уровни канона

- **Level 0** (Фундаментальные правила): НИКОГДА не нарушать. Абсолютные законы мира.
- **Level 1** (Основной канон): Можно расширять, но не противоречить базовой концепции.
- **Level 2** (Расширенный канон): Можно развивать и уточнять.
- **Level 3** (Возможный канон): Идеи, требующие утверждения.
- **Level 4** (Неканон): Отвергнутые идеи, чего избегать.

### Ключевые принципы

1. **Level 0-1 священны**: Никогда не компрометировать
2. **Новый элемент → связь с 2+ существующими элементами**
3. **Проверять на противоречия** перед введением
4. **Приоритет**: существующий элемент высшего уровня всегда побеждает
5. **Обосновывать**: объяснять назначение уровня канона
6. **Сохранять тональность**: новые элементы должны соответствовать атмосфере мира

### Расположение канона

Актуальный канон хранится в: `/context/canon-levels/`

Структура:
- `level-0-absolute.md` — фундаментальные правила
- `level-1-core.md` — основной канон
- `level-2-extended.md` — расширенный канон
- `level-3-possible.md` — возможный канон
- `level-4-rejected.md` — отвергнутые идеи
- `canon-changelog.md` — история изменений

---

**Для полной информации**: См. `.claude/agents/shared/canon-guardian.md`
